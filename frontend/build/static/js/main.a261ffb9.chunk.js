(this.webpackJsonpfront_upvote=this.webpackJsonpfront_upvote||[]).push([[0],{35:function(e,t,a){e.exports=a(56)},40:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(18),c=a.n(o),l=(a(40),a(11)),s=a(12),i=a(13),u=a(14),m=a(17),h=a.n(m),p=a(19),d=a(10),v=a(57),f=a(58),E=a(59),b=a(60),g=a(72),O=a(61),j=a(62),y=a(16),k=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={isOpen:!1},n.toggle=n.toggle.bind(Object(d.a)(n)),n}return Object(s.a)(a,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return r.a.createElement(v.a,{color:"dark",dark:!0,expand:"md"},r.a.createElement(f.a,{tag:y.b,to:"/"},"Posts"),r.a.createElement(E.a,{tag:y.b,to:"/new"},"Fazer Novo Post"),r.a.createElement(b.a,{onClick:this.toggle}),r.a.createElement(g.a,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(O.a,{className:"ml-auto",navbar:!0},r.a.createElement(E.a,null,r.a.createElement(j.a,{href:"https://twitter.com/faamk"},"@faamk")))))}}]),a}(n.Component),x=a(63),w=a(64),C=a(65),S=a(66),T=a(33),L=a.n(T),P=(a(55),function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={posts:[],isLoading:!0},n.upvote=n.upvote.bind(Object(d.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("/posts").then((function(e){return e.json()})).then((function(t){e.setState({posts:t,isLoading:!1})})).catch(console.log)}},{key:"upvote",value:function(){var e=Object(p.a)(h.a.mark((function e(t){var a,n=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",headers:{"Content-Type":"application/json"}},e.next=3,fetch("/upvote?id="+t,a).catch((function(e){return console.log(e)})).then((function(){for(var e=n.state.posts,a=0;a<e.length;++a)t===e[a].id&&(e[a].upvotes=e[a].upvotes+1);n.setState({posts:e})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.posts;if(t.isLoading)return r.a.createElement("div",null,r.a.createElement(k,null),r.a.createElement(x.a,{color:"primary"}));if(0===a.length)return r.a.createElement("div",null,r.a.createElement(k,null),r.a.createElement("p",null,"Sem Posts para mostrar :("));var n=a.map((function(t,a){return r.a.createElement("div",{className:"card",key:a},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",null,t.user),r.a.createElement("label",null,"\xe0s ",L()(t.date).format(" h:mm:ss a, DD/MM/YYYY"),":"),r.a.createElement(w.a,{sm:"6"},r.a.createElement("card",{body:!0,style:{backgroundColor:"#878787"}},r.a.createElement(C.a,{style:{color:"white"}},t.text))),r.a.createElement("h5",null,"Upvotes: ",t.upvotes),r.a.createElement(S.a,{onClick:function(){return e.upvote(t.id)}},"Upvote")))}));return r.a.createElement("div",null,r.a.createElement(k,null),n)}}]),a}(n.Component)),N=a(34),D=a(67),M=a(68),U=a(69),Y=a(70),z=a(71),B=a(15),J=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).post={user:"",text:"",redirectToList:!1},n.state={post:n.post},n.handleChange=n.handleChange.bind(Object(d.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(d.a)(n)),n}return Object(s.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name,r=Object(N.a)({},this.state.post);r[n]=a,this.setState({post:r})}},{key:"handleSubmit",value:function(){var e=Object(p.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=this.state.post,e.next=4,fetch("/post?user="+a.user+"&text="+a.text,{method:"POST",headers:{"Content-Type":"application/json"}});case 4:this.setState((function(){return{redirectToList:!0}}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.post;return!0===this.state.redirectToList?r.a.createElement(B.a,{to:"/",exact:!0,component:P}):r.a.createElement("div",null,r.a.createElement(k,null),r.a.createElement(D.a,null,r.a.createElement("h1",{align:"center"},"Adicionar Post"),r.a.createElement(M.a,{onSubmit:this.handleSubmit},r.a.createElement("div",null,r.a.createElement(U.a,null,r.a.createElement(Y.a,{for:"user"},"Usu\xe1rio:"),r.a.createElement(z.a,{placeholder:"Nome do Usu\xe1rio",type:"text",name:"user",id:"user",value:e.user||"",onChange:this.handleChange})),r.a.createElement(U.a,null,r.a.createElement(Y.a,{for:"text"},"Texto:"),r.a.createElement(z.a,{placeholder:"Texto do Post",type:"text",name:"text",size:300,id:"text",value:e.text||"",onChange:this.handleChange}))),r.a.createElement(U.a,null,r.a.createElement(S.a,{color:"primary",type:"submit"},"Salvar")," "))))}}]),a}(n.Component),W=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(y.a,null,r.a.createElement(B.d,null,r.a.createElement(B.b,{path:"/",exact:!0,component:P}),r.a.createElement(B.b,{path:"/new",exact:!0,component:J}),">"))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[35,1,2]]]);
//# sourceMappingURL=main.a261ffb9.chunk.js.map