{"ast":null,"code":"import _regeneratorRuntime from\"/home/fabrizio/SegWare/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/fabrizio/SegWare/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"/home/fabrizio/SegWare/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/home/fabrizio/SegWare/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/fabrizio/SegWare/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/fabrizio/SegWare/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _createSuper from\"/home/fabrizio/SegWare/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/home/fabrizio/SegWare/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import AppNavbar from'./AppNavBar';import{Button,Container,Form,FormGroup,Input,Label}from'reactstrap';import{Redirect}from\"react-router-dom\";import Posts from\"./posts\";var NewPost=/*#__PURE__*/function(_Component){_inherits(NewPost,_Component);var _super=_createSuper(NewPost);function NewPost(props){var _this;_classCallCheck(this,NewPost);_this=_super.call(this,props);_this.post={user:'',text:'',redirectToList:false};_this.state={post:_this.post};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(NewPost,[{key:\"handleChange\",value:function handleChange(event){var target=event.target;var value=target.value;var name=target.name;var post=_objectSpread({},this.state.post);post[name]=value;this.setState({post:post});}},{key:\"handleSubmit\",value:function(){var _handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var post;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();post=this.state.post;_context.next=4;return fetch('/post?user='+post.user+'&text='+post.text,{method:'POST',headers:{'Content-Type':'application/json'}});case 4:this.setState(function(){return{redirectToList:true};});case 5:case\"end\":return _context.stop();}}},_callee,this);}));function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}return handleSubmit;}()},{key:\"render\",value:function render(){var post=this.state.post;var redirectToList=this.state.redirectToList;if(redirectToList===true){return/*#__PURE__*/React.createElement(Redirect,{to:\"/\",exact:true,component:Posts});}return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(AppNavbar,null),/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(\"h1\",{align:\"center\"},\"Adicionar Post\"),/*#__PURE__*/React.createElement(Form,{onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"user\"},\"Usu\\xE1rio:\"),/*#__PURE__*/React.createElement(Input,{placeholder:\"Nome do Usu\\xE1rio\",type:\"text\",name:\"user\",id:\"user\",value:post.user||'',onChange:this.handleChange})),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"text\"},\"Texto:\"),/*#__PURE__*/React.createElement(Input,{placeholder:\"Texto do Post\",type:\"text\",name:\"text\",size:300,id:\"text\",value:post.text||'',onChange:this.handleChange}))),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Button,{color:\"primary\",type:\"submit\"},\"Salvar\"),' '))));}}]);return NewPost;}(Component);export default NewPost;","map":{"version":3,"sources":["/home/fabrizio/SegWare/frontend/src/components/NewPost.js"],"names":["React","Component","AppNavbar","Button","Container","Form","FormGroup","Input","Label","Redirect","Posts","NewPost","props","post","user","text","redirectToList","state","handleChange","bind","handleSubmit","event","target","value","name","setState","preventDefault","fetch","method","headers"],"mappings":"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","sourcesContent":["import React,{Component} from \"react\";\nimport AppNavbar from './AppNavBar'\nimport { Button, Container, Form, FormGroup, Input, Label } from 'reactstrap';\nimport {Redirect} from \"react-router-dom\";\nimport Posts from \"./posts\";\nclass NewPost extends Component{\n\n    post={\n        user:'',\n        text:'',\n        redirectToList:false\n    }\n\n\n    constructor(props) {\n        super(props);\n        this.state = {post: this.post};\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    handleChange(event) {\n        const target = event.target;\n        const value = target.value;\n        const name = target.name;\n        let post = {...this.state.post};\n        post[name] = value;\n        this.setState({post});\n    }\n\n    async handleSubmit(event) {\n        event.preventDefault();\n        const {post} = this.state;\n\n         await fetch('/post?user='+post.user+'&text='+post.text, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n        });\n        this.setState(()=> ({redirectToList: true}))\n    }\n\n    render() {\n        const {post} = this.state\n        const{redirectToList} =this.state\n        if(redirectToList === true){\n            return <Redirect to='/' exact={true} component={Posts}/>\n        }\n\n        return  <div>\n            <AppNavbar/>\n            <Container>\n                <h1 align='center'>Adicionar Post</h1>\n                <Form onSubmit={this.handleSubmit}>\n                    <div>\n                    <FormGroup>\n                        <Label for=\"user\">Usuário:</Label>\n                        <Input placeholder=\"Nome do Usuário\" type=\"text\" name=\"user\" id=\"user\" value={post.user || ''}\n                               onChange={this.handleChange}/>\n                    </FormGroup>\n                    <FormGroup>\n                        <Label for=\"text\">Texto:</Label>\n                        <Input placeholder=\"Texto do Post\" type=\"text\" name=\"text\" size={300} id=\"text\" value={post.text || ''}\n                               onChange={this.handleChange}/>\n                    </FormGroup>\n                    </div>\n                    <FormGroup>\n                        <Button color=\"primary\" type=\"submit\">Salvar</Button>{' '}\n                    </FormGroup>\n                </Form>\n            </Container>\n        </div>;\n    }\n} export default NewPost;"]},"metadata":{},"sourceType":"module"}